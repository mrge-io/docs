---
title: 'AI review prompting'
description: "Learn how to effectively customize and prompt mrge's AI reviewer"
---

# Custom rules

**Custom rules** let you specify what mrge's AI code reviewer should look for in each newly opened pull request. These rules are typically **beyond the scope** of a standard linter or static analyzerâ€”e.g., spotting potential N+1 queries, ensuring consistent error tracking, or verifying domain-specific best practices.

---

## Defining a rule

To set up a rule, navigate to your **Custom rules** section in mrge's UI. Each rule consists of:

1. **A name**: For quick reference, e.g., "Disallow N+1 queries" or "Require Sentry wrap for all external API calls."
2. **A description**: The natural-language text the AI uses to understand your guideline, such as "Flag any code that might lead to multiple database calls within a loop."

> **Tip**: Keep rules clear and direct. Instead of "We don't really like random logs," try "Disallow `console.log` statements in production code."

---

## Example rules

**1) "Flag potential N+1 queries"**

- The AI checks database queries for patterns where multiple queries may occur in a nested loop or repeated calls.

**2) "Wrap external API calls with Sentry error handling"**

- The AI warns if it finds calls to third-party services without error tracking.

**3) "Require docstrings for public functions"**

- The AI flags any public function lacking a docstring comment.

Each rule causes a comment or warning if the AI detects a likely violation in the PR's diff.

---

## Suggested & popular rules

On the right side of the custom rules page, you'll find two helpful sections:

- **Suggested rules**: Based on your team's comment history and review patterns, mrge suggests rules that might be valuable for your codebase.
- **Popular rules**: See what rules are commonly used across similar projects and teams.

These suggestions can help you quickly establish effective review patterns or discover rules you hadn't considered.

---

## Limitations

- **One-time check**: The AI runs only once when the PR is created. If you push more commits afterward, mrge doesn't re-check them yet.
- **False positives / misses**: The AI might overlook certain edge cases or incorrectly flag code. Treat the feedback as **guidance**, not a guarantee.

---

## Editing & managing rules

1. **Add a new rule**: In your project settings, open **Custom rules** and provide a name + description.
2. **Disable or remove**: If a rule is no longer applicable, toggle it off or delete it.
3. **Rule order**: If mrge supports prioritizing rules, you can rank critical ones first.

---

## Best practices

- **Use clear language**: e.g., "Prevent nested queries" is better than "Be mindful of DB calls."
- **Complement existing linters**: The AI is not a replacement for ESLint or Prettier; it's an extra layer for higher-level or domain-specific checks.
- **Stay specific**: The more concrete the rule, the better the AI can detect relevant patterns (e.g., "No inline styles in React components" or "Disallow raw SQL in code except for migrations").

---

## Next steps

- **[Back to overview](/ai-review/overview)**: See how the AI reviewer triggers in your PR workflow.
- **Iterate on rules**: Review your coding guidelines to find opportunities for new custom rules that aren't easily handled by normal linting.

By defining clear, targeted rules, you can harness mrge's AI reviewer for domain-specific code checks that standard tools might miss.
